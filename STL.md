### allocator

allocator除了负责内存的分配和释放，**还负责对象的构造和析构**，知道类型才能调用对象的构造和析构函数。而且，对于分配内存，allocator接口设计中有类似于“为n个T类型的对象分配内存”这种批量操作，这就需要知道类型才能算出对象需要的空间了。

```cpp
class my_alloc{
// ...
// 自己实现的空间分配器
// ···
```

上面的标准接口实际只需要关注最后的`allocate`，`deallocate`，`construct`和`destroy`函数的实现即可。整个allocator最重要的函数就是这四个。从功能上，这四者可以简单理解为C++的`::operator new`和`::operator delete`，构造函数和析构函数，实际上，一个最简单的`allocator`就可以理解为对`new`，`delete`的简单封装,以及对构造函数和析构函数的直接调用。



https://zhuanlan.zhihu.com/p/34725232

内存池和自由链表





因为我简历里有c++stl实现，所以问了内存池，问的很细

c++多态？

c++没有成员的类占空间吗？占多大?
手写代码：
memmove（char* str1,const char* str2）{
}
这题的主要难点在于str1和str2内存部分可能有重叠，我没想到怎么解决——我太菜了！！
手写代码：翻转句子中的单词：“hello world”——“world hello”
原地址翻转，这道题我写出来了，先整句翻转，再按空格每个词翻转——可耻的是我还想了很久，菜是原罪啊！
不过面试官人真的很好，超有耐心！五星好评！
没想到主问的是c++，实在是失策，事实证明简历上某某的项目越多某某就会被问的越厉害，哭了

https://zhuanlan.zhihu.com/p/139835423